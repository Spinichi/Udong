spring:
  config:
    # ...env 파일 또는 환경 변수에서 값을 가져오도록 설정
    import: "optional:file:./.env[.properties]"
  application:
    name: backend
  datasource:
    # ...env 파일에서 데이터베이스 정보를 읽어옵니다.
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    open-in-view: false
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect

server:
  servlet:
    context-path: /api
  error:
    include-stacktrace: never
    include-message: always

jwt:
  secret:
    # ...env 파일에서 JWT 비밀 키를 읽어옵니다.
    key: ${JWT_SECRET_KEY}

app:
  crypto:
    # ...env 파일에서 AES256 키를 읽어옵니다.
    aes256_key_b64: ${APP_AES_KEY_B64}
    key_version: 1

logging:
  level:
    com.udong.backend.external.gms: DEBUG
    org.springframework.web.client: DEBUG

cloud:
  aws:
    # 이 값도 민감하다면 .env로 옮길 수 있습니다.
    region: ap-southeast-2

management:
  endpoints:
    web:
      exposure:
        include: "prometheus,health"
  metrics:
    tags:
      application: ${spring.application.name}

finapi:
  base-url: https://finopenapi.ssafy.io/ssafy/api/v1
  userkey-path: /member/search
  api-key: ${FIN_API_KEY}
  institution-code: "00100"
  app-no: "001"
